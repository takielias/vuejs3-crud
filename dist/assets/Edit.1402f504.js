var e=Object.assign;import{d as t,k as r,r as s,l as a,p as o,t as i,q as l,e as d,f as n,o as c,c as u,a as m,w as p,g,h as f,v as x}from"./index.74eb5de6.js";import{_ as b}from"./FormValidation.cf3c48ab.js";import{_ as y}from"./product.ad92dd02.js";var h=t({components:{FormValidation:b},setup(){const t=r(),n=s({id:void 0,title:"",description:"",price:"",image:!1}),c=d(),u=l().params.id,{loading:m,data:p,get:g}=a(`/api/v1/products/${u}`),{put:f,errorMessage:x,errorDetails:b,errorFields:y}=a(`/api/v1/products/${u}`),h=e=>{let t=new FileReader;t.onload=e=>{n.image=e.target.result},t.readAsDataURL(e)};return o((async()=>{g().then((e=>{n.title=e.title,n.description=e.description,n.image=e.image,n.price=e.price}))})),e(e({},i(n)),{loading:m,errorMessage:x,errorFields:y,errorDetails:b,id:u,data:p,onImageChange:e=>{let t=e.target.files||e.dataTransfer.files;t.length&&(n.image=t[0],h(t[0]))},updateProduct:()=>{n.id=u,f(n).then((e=>{t.success(e.msg),c.push({name:"ProductList"})}))}})}});const v={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},w={class:"max-w-md w-full space-y-8"},k=m("div",null,[m("img",{class:"mx-auto h-12 w-auto",src:y,alt:"Workflow"})],-1),j=m("input",{value:"{{id}}",type:"hidden"},null,-1),D={class:"shadow sm:rounded-md sm:overflow-hidden"},M={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},P={class:"col-span-6 sm:col-span-4"},C=m("label",{for:"email_address",class:"block text-sm font-medium text-gray-700"},"Title",-1),F={class:"col-span-6 sm:col-span-4"},V=m("label",{for:"price",class:"block text-sm font-medium text-gray-700"},"Price",-1),U={class:"mt-1 relative rounded-md shadow-sm"},B=m("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[m("span",{class:"text-gray-500 sm:text-sm"}," à§³ ")],-1),L=m("div",{class:"absolute inset-y-0 right-0 flex items-center"},[m("label",{for:"currency",class:"sr-only"},"Currency"),m("select",{id:"currency",name:"currency",class:"focus:ring-indigo-500 focus:border-indigo-500 h-full py-0 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-md"},[m("option",null,"BDT")])],-1),_=m("label",{for:"about",class:"block text-sm font-medium text-gray-700"}," Description ",-1),I={class:"mt-1"},T=m("p",{class:"mt-2 text-sm text-gray-500"}," Brief description for your product. ",-1),G={key:0,class:"flex my-10"},H={class:"bg-white w-full m-auto border-1  border-dashed border-gray-100 shadow-md rounded-lg overflow-hidden"},R=m("div",{class:"p-4"},null,-1),S=m("label",{class:"block text-sm font-medium text-gray-700"}," Product photo ",-1),$={class:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},q={class:"space-y-1 text-center"},A=m("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[m("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),J={class:"flex text-sm text-gray-600"},N={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},O=m("span",null,"Upload a file",-1),W=m("p",{class:"pl-1"},"or drag and drop",-1),z=m("p",{class:"text-xs text-gray-500"}," PNG, JPG up to 1MB ",-1),E=m("div",{class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},[m("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Save ")],-1);h.render=function(e,t,r,s,a,o){const i=n("FormValidation");return c(),u("div",v,[m("div",w,[k,m("form",{onSubmit:t[5]||(t[5]=p(((...t)=>e.updateProduct&&e.updateProduct(...t)),["prevent"])),enctype:"multipart/form-data"},[e.errorMessage?(c(),u(i,{key:0,errorMessage:e.errorMessage,errorDetails:e.errorDetails},null,8,["errorMessage","errorDetails"])):g("",!0),j,m("div",D,[m("div",M,[m("div",P,[C,f(m("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.title=t),id:"product_title",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[x,e.title]])]),m("div",F,[V,m("div",U,[B,f(m("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.price=t),id:"price",class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"},null,512),[[x,e.price]]),L])]),m("div",null,[_,m("div",I,[f(m("textarea",{id:"about",name:"about",rows:"3","onUpdate:modelValue":t[3]||(t[3]=t=>e.description=t),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Product Description"},null,512),[[x,e.description]])]),T]),e.image?(c(),u("div",G,[m("div",H,[m("img",{src:e.image,alt:"",class:"w-full object-cover object-center"},null,8,["src"]),R])])):g("",!0),m("div",null,[S,m("div",$,[m("div",q,[A,m("div",J,[m("label",N,[O,m("input",{id:"file-upload",name:"file-upload",onChange:t[4]||(t[4]=(...t)=>e.onImageChange&&e.onImageChange(...t)),accept:"image/*",type:"file",class:"sr-only"},null,32)]),W]),z])])])]),E])],32)])])};export default h;
