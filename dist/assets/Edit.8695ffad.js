var e=Object.assign;import{d as t,u as s,r,l as a,p as o,t as i,q as l,f as d,g as n,o as c,c as u,h as m,a as p,w as g,i as f,v as x,F as b}from"./index.6a068096.js";import{_ as y}from"./FormValidation.0ce25f58.js";import{_ as h}from"./product.ad92dd02.js";var v=t({components:{FormValidation:y},setup(){const t=s(),n=r({id:void 0,title:"",description:"",price:"",image:!1}),c=d(),u=l().params.id,{loading:m,data:p,get:g}=a(`/api/v1/products/${u}`),{put:f,errorMessage:x,errorDetails:b,errorFields:y}=a(`/api/v1/products/${u}`),h=e=>{let t=new FileReader;t.onload=e=>{n.image=e.target.result},t.readAsDataURL(e)};return o((async()=>{g().then((e=>{n.title=e.title,n.description=e.description,n.image=e.image,n.price=e.price}))})),e(e({},i(n)),{loading:m,errorMessage:x,errorFields:y,errorDetails:b,id:u,data:p,onImageChange:e=>{let t=e.target.files||e.dataTransfer.files;t.length&&(n.image=t[0],h(t[0]))},updateProduct:()=>{n.id=u,f(n).then((e=>{t.success(e.msg),c.push({name:"ProductList"})}))}})}});const w={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},k={class:"max-w-md w-full space-y-8"},j=p("div",null,[p("img",{class:"mx-auto h-12 w-auto",src:h,alt:"Workflow"})],-1),D=p("input",{value:"{{id}}",type:"hidden"},null,-1),M={class:"shadow sm:rounded-md sm:overflow-hidden"},P={class:"px-4 py-5 bg-white space-y-6 sm:p-6"},F={class:"col-span-6 sm:col-span-4"},C=p("label",{for:"email_address",class:"block text-sm font-medium text-gray-700"},"Title",-1),V={class:"col-span-6 sm:col-span-4"},U=p("label",{for:"price",class:"block text-sm font-medium text-gray-700"},"Price",-1),B={class:"mt-1 relative rounded-md shadow-sm"},L=p("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[p("span",{class:"text-gray-500 sm:text-sm"}," à§³ ")],-1),_=p("div",{class:"absolute inset-y-0 right-0 flex items-center"},[p("label",{for:"currency",class:"sr-only"},"Currency"),p("select",{id:"currency",name:"currency",class:"focus:ring-indigo-500 focus:border-indigo-500 h-full py-0 pl-2 pr-7 border-transparent bg-transparent text-gray-500 sm:text-sm rounded-md"},[p("option",null,"BDT")])],-1),I=p("label",{for:"about",class:"block text-sm font-medium text-gray-700"}," Description ",-1),T={class:"mt-1"},G=p("p",{class:"mt-2 text-sm text-gray-500"}," Brief description for your product. ",-1),H={key:0,class:"flex my-10"},R={class:"bg-white w-full m-auto border-1  border-dashed border-gray-100 shadow-md rounded-lg overflow-hidden"},S=p("div",{class:"p-4"},null,-1),$=p("label",{class:"block text-sm font-medium text-gray-700"}," Product photo ",-1),q={class:"mt-2 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md"},A={class:"space-y-1 text-center"},J=p("svg",{class:"mx-auto h-12 w-12 text-gray-400",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48","aria-hidden":"true"},[p("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),N={class:"flex text-sm text-gray-600"},O={for:"file-upload",class:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500"},W=p("span",null,"Upload a file",-1),z=p("p",{class:"pl-1"},"or drag and drop",-1),E=p("p",{class:"text-xs text-gray-500"}," PNG, JPG up to 1MB ",-1),K=p("div",{class:"px-4 py-3 bg-gray-50 text-right sm:px-6"},[p("button",{type:"submit",class:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," Save ")],-1);v.render=function(e,t,s,r,a,o){const i=n("loading"),l=n("FormValidation");return c(),u(b,null,[e.loading?(c(),u(i,{key:0})):m("",!0),p("div",w,[p("div",k,[j,p("form",{onSubmit:t[5]||(t[5]=g(((...t)=>e.updateProduct&&e.updateProduct(...t)),["prevent"])),enctype:"multipart/form-data"},[e.errorMessage?(c(),u(l,{key:0,errorMessage:e.errorMessage,errorDetails:e.errorDetails},null,8,["errorMessage","errorDetails"])):m("",!0),D,p("div",M,[p("div",P,[p("div",F,[C,f(p("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=t=>e.title=t),id:"product_title",class:"mt-1 focus:ring-indigo-500 focus:border-indigo-500 block w-full shadow-sm sm:text-sm border-gray-300 rounded-md"},null,512),[[x,e.title]])]),p("div",V,[U,p("div",B,[L,f(p("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=t=>e.price=t),id:"price",class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full pl-7 pr-12 sm:text-sm border-gray-300 rounded-md",placeholder:"0.00"},null,512),[[x,e.price]]),_])]),p("div",null,[I,p("div",T,[f(p("textarea",{id:"about",name:"about",rows:"3","onUpdate:modelValue":t[3]||(t[3]=t=>e.description=t),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 mt-1 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Product Description"},null,512),[[x,e.description]])]),G]),e.image?(c(),u("div",H,[p("div",R,[p("img",{src:e.image,alt:"",class:"w-full object-cover object-center"},null,8,["src"]),S])])):m("",!0),p("div",null,[$,p("div",q,[p("div",A,[J,p("div",N,[p("label",O,[W,p("input",{id:"file-upload",name:"file-upload",onChange:t[4]||(t[4]=(...t)=>e.onImageChange&&e.onImageChange(...t)),accept:"image/*",type:"file",class:"sr-only"},null,32)]),z]),E])])])]),K])],32)])])],64)};export default v;
